(function(){function e(t,i,n){var r=e.resolve(t);if(null==r){n=n||t;i=i||"root";var s=new Error('Failed to require "'+n+'" from "'+i+'"');s.path=n;s.parent=i;s.require=true;throw s}var o=e.modules[r];if(!o._resolving&&!o.exports){var l={};l.exports={};l.client=l.component=true;o._resolving=true;o.call(this,l.exports,e.relative(r),l);delete o._resolving;o.exports=l.exports}return o.exports}e.modules={};e.aliases={};e.resolve=function(t){if(t.charAt(0)==="/")t=t.slice(1);var i=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var n=0;n<i.length;n++){var t=i[n];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}};e.normalize=function(e,t){var i=[];if("."!=t.charAt(0))return t;e=e.split("/");t=t.split("/");for(var n=0;n<t.length;++n){if(".."==t[n]){e.pop()}else if("."!=t[n]&&""!=t[n]){i.push(t[n])}}return e.concat(i).join("/")};e.register=function(t,i){e.modules[t]=i};e.alias=function(t,i){if(!e.modules.hasOwnProperty(t)){throw new Error('Failed to alias "'+t+'", it does not exist')}e.aliases[i]=t};e.relative=function(t){var i=e.normalize(t,"..");function n(e,t){var i=e.length;while(i--){if(e[i]===t)return i}return-1}function r(i){var n=r.resolve(i);return e(n,t,i)}r.resolve=function(r){var s=r.charAt(0);if("/"==s)return r.slice(1);if("."==s)return e.normalize(i,r);var o=t.split("/");var l=n(o,"deps")+1;if(!l)l=0;r=o.slice(0,l+1).join("/")+"/deps/"+r;return r};r.exists=function(t){return e.modules.hasOwnProperty(r.resolve(t))};return r};e.register("component-emitter/index.js",function(e,t,i){i.exports=n;function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype){e[t]=n.prototype[t]}return e}n.prototype.on=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};n.prototype.once=function(e,t){var i=this;this._callbacks=this._callbacks||{};function n(){i.off(e,n);t.apply(this,arguments)}t._off=n;this.on(e,n);return this};n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var i=this._callbacks[e];if(!i)return this;if(1==arguments.length){delete this._callbacks[e];return this}var n=i.indexOf(t._off||t);if(~n)i.splice(n,1);return this};n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n){i[n].apply(this,t)}}return this};n.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};n.prototype.hasListeners=function(e){return!!this.listeners(e).length}});e.register("dropzone/index.js",function(e,t,i){i.exports=t("./lib/dropzone.js")});e.register("dropzone/lib/dropzone.js",function(e,t,i){(function(){var e,n,r,s,o,l,a={}.hasOwnProperty,u=function(e,t){for(var i in t){if(a.call(t,i))e[i]=t[i]}function n(){this.constructor=e}n.prototype=t.prototype;e.prototype=new n;e.__super__=t.prototype;return e},p=[].slice;n=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:t("emitter");o=function(){};e=function(e){var t;u(i,e);i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"];i.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(e,t){return t()},init:function(){return o},forceFallback:false,fallback:function(){var e,t,n,r,s,o;this.element.className=""+this.element.className+" dz-browser-not-supported";o=this.element.getElementsByTagName("div");for(r=0,s=o.length;r<s;r++){e=o[r];if(/(^| )dz-message($| )/.test(e.className)){t=e;e.className="dz-message";continue}}if(!t){t=i.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(t)}n=t.getElementsByTagName("span")[0];if(n){n.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};i=e.width/e.height;n=this.options.thumbnailWidth/this.options.thumbnailHeight;if(e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth){t.trgHeight=t.srcHeight;t.trgWidth=t.srcWidth}else{if(i>n){t.srcHeight=e.height;t.srcWidth=t.srcHeight*n}else{t.srcWidth=e.width;t.srcHeight=t.srcWidth/n}}t.srcX=(e.width-t.srcWidth)/2;t.srcY=(e.height-t.srcHeight)/2;return t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(e){if(this.element===this.previewsContainer){return this.element.classList.add("dz-started")}},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,r,s,o,l,a,u=this;e.previewElement=i.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);l=e.previewElement.querySelectorAll("[data-dz-name]");for(n=0,s=l.length;n<s;n++){t=l[n];t.textContent=e.name}a=e.previewElement.querySelectorAll("[data-dz-size]");for(r=0,o=a.length;r<o;r++){t=a[r];t.innerHTML=this.filesize(e.size)}if(this.options.addRemoveLinks){e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>");e._removeLink.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();if(e.status===i.UPLOADING){return i.confirm(u.options.dictCancelUploadConfirmation,function(){return u.removeFile(e)})}else{if(u.options.dictRemoveFileConfirmation){return i.confirm(u.options.dictRemoveFileConfirmation,function(){return u.removeFile(e)})}else{return u.removeFile(e)}}});e.previewElement.appendChild(e._removeLink)}return this._updateMaxFilesReachedClass()},removedfile:function(e){var t;if((t=e.previewElement)!=null){t.parentNode.removeChild(e.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,r,s,o;e.previewElement.classList.remove("dz-file-preview");e.previewElement.classList.add("dz-image-preview");s=e.previewElement.querySelectorAll("[data-dz-thumbnail]");o=[];for(n=0,r=s.length;n<r;n++){i=s[n];i.alt=e.name;o.push(i.src=t)}return o},error:function(e,t){var i,n,r,s,o;e.previewElement.classList.add("dz-error");s=e.previewElement.querySelectorAll("[data-dz-errormessage]");o=[];for(n=0,r=s.length;n<r;n++){i=s[n];o.push(i.textContent=t)}return o},errormultiple:o,processing:function(e){e.previewElement.classList.add("dz-processing");if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:o,uploadprogress:function(e,t,i){var n,r,s,o,l;o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");l=[];for(r=0,s=o.length;r<s;r++){n=o[r];l.push(n.style.width=""+t+"%")}return l},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:o,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:o,complete:function(e){if(e._removeLink){return e._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:o,maxfilesexceeded:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};t=function(){var e,t,i,n,r,s,o;n=arguments[0],i=2<=arguments.length?p.call(arguments,1):[];for(s=0,o=i.length;s<o;s++){t=i[s];for(e in t){r=t[e];n[e]=r}}return n};function i(e,n){var r,s,o;this.element=e;this.version=i.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&this.element.nodeType!=null)){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}i.instances.push(this);this.element.dropzone=this;r=(o=i.optionsForElement(this.element))!=null?o:{};this.options=t({},this.defaultOptions,r,n!=null?n:{});if(this.options.forceFallback||!i.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((s=this.getExistingFallback())&&s.parentNode){s.parentNode.removeChild(s)}if(this.options.previewsContainer){this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=i.getElements(this.options.clickable,"clickable")}}this.init()}i.prototype.getAcceptedFiles=function(){var e,t,i,n,r;n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];if(e.accepted){r.push(e)}}return r};i.prototype.getRejectedFiles=function(){var e,t,i,n,r;n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];if(!e.accepted){r.push(e)}}return r};i.prototype.getQueuedFiles=function(){var e,t,n,r,s;r=this.files;s=[];for(t=0,n=r.length;t<n;t++){e=r[t];if(e.status===i.QUEUED){s.push(e)}}return s};i.prototype.getUploadingFiles=function(){var e,t,n,r,s;r=this.files;s=[];for(t=0,n=r.length;t<n;t++){e=r[t];if(e.status===i.UPLOADING){s.push(e)}}return s};i.prototype.init=function(){var e,t,n,r,s,o,l,a=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){n=function(){if(a.hiddenFileInput){document.body.removeChild(a.hiddenFileInput)}a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");if(a.options.maxFiles==null||a.options.maxFiles>1){a.hiddenFileInput.setAttribute("multiple","multiple")}if(a.options.acceptedFiles!=null){a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles)}a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.body.appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",function(){var e;e=a.hiddenFileInput.files;if(e.length){a.emit("selectedfiles",e);a.handleFiles(e)}return n()})};n()}this.URL=(o=window.URL)!=null?o:window.webkitURL;l=this.events;for(r=0,s=l.length;r<s;r++){e=l[r];this.on(e,this.options[e])}this.on("uploadprogress",function(){return a.updateTotalUploadProgress()});this.on("removedfile",function(){return a.updateTotalUploadProgress()});this.on("canceled",function(e){return a.emit("complete",e)});t=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}else{return e.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(e){return a.emit("dragstart",e)},dragenter:function(e){t(e);return a.emit("dragenter",e)},dragover:function(e){t(e);return a.emit("dragover",e)},dragleave:function(e){return a.emit("dragleave",e)},drop:function(e){t(e);return a.drop(e)},dragend:function(e){return a.emit("dragend",e)}}}];this.clickableElements.forEach(function(e){return a.listeners.push({element:e,events:{click:function(t){if(e!==a.element||t.target===a.element||i.elementInside(t.target,a.element.querySelector(".dz-message"))){return a.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};i.prototype.destroy=function(){var e;this.disable();this.removeAllFiles(true);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}return delete this.element.dropzone};i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,r,s,o,l;n=0;i=0;e=this.getAcceptedFiles();if(e.length){l=this.getAcceptedFiles();for(s=0,o=l.length;s<o;s++){t=l[s];n+=t.upload.bytesSent;i+=t.upload.total}r=100*n/i}else{r=100}return this.emit("totaluploadprogress",r,i,n)};i.prototype.getFallbackForm=function(){var e,t,n,r;if(e=this.getExistingFallback()){return e}n='<div class="dz-fallback">';if(this.options.dictFallbackText){n+="<p>"+this.options.dictFallbackText+"</p>"}n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';t=i.createElement(n);if(this.element.tagName!=="FORM"){r=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');r.appendChild(t)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return r!=null?r:t};i.prototype.getExistingFallback=function(){var e,t,i,n,r,s;t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];if(/(^| )fallback($| )/.test(t.className)){return t}}};s=["div","form"];for(n=0,r=s.length;n<r;n++){i=s[n];if(e=t(this.element.getElementsByTagName(i))){return e}}};i.prototype.setupEventListeners=function(){var e,t,i,n,r,s,o;s=this.listeners;o=[];for(n=0,r=s.length;n<r;n++){e=s[n];o.push(function(){var n,r;n=e.events;r=[];for(t in n){i=n[t];r.push(e.element.addEventListener(t,i,false))}return r}())}return o};i.prototype.removeEventListeners=function(){var e,t,i,n,r,s,o;s=this.listeners;o=[];for(n=0,r=s.length;n<r;n++){e=s[n];o.push(function(){var n,r;n=e.events;r=[];for(t in n){i=n[t];r.push(e.element.removeEventListener(t,i,false))}return r}())}return o};i.prototype.disable=function(){var e,t,i,n,r;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")});this.removeEventListeners();n=this.files;r=[];for(t=0,i=n.length;t<i;t++){e=n[t];r.push(this.cancelUpload(e))}return r};i.prototype.enable=function(){this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()};i.prototype.filesize=function(e){var t;if(e>=1e11){e=e/1e11;t="TB"}else if(e>=1e8){e=e/1e8;t="GB"}else if(e>=1e5){e=e/1e5;t="MB"}else if(e>=100){e=e/100;t="KB"}else{e=e*10;t="b"}return"<strong>"+Math.round(e)/10+"</strong> "+t};i.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};i.prototype.drop=function(e){var t,i;if(!e.dataTransfer){return}this.emit("drop",e);t=e.dataTransfer.files;this.emit("selectedfiles",t);if(t.length){i=e.dataTransfer.items;if(i&&i.length&&(i[0].webkitGetAsEntry!=null||i[0].getAsEntry!=null)){this.handleItems(i)}else{this.handleFiles(t)}}};i.prototype.handleFiles=function(e){var t,i,n,r;r=[];for(i=0,n=e.length;i<n;i++){t=e[i];r.push(this.addFile(t))}return r};i.prototype.handleItems=function(e){var t,i,n,r;for(n=0,r=e.length;n<r;n++){i=e[n];if(i.webkitGetAsEntry!=null){t=i.webkitGetAsEntry();if(t.isFile){this.addFile(i.getAsFile())}else if(t.isDirectory){this.addDirectory(t,t.name)}}else{this.addFile(i.getAsFile())}}};i.prototype.accept=function(e,t){if(e.size>this.options.maxFilesize*1024*1024){return t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!i.isValidFile(e,this.options.acceptedFiles)){return t(this.options.dictInvalidFileType)}else if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",e)}else{return this.options.accept.call(this,e,t)}};i.prototype.addFile=function(e){var t=this;e.upload={progress:0,total:e.size,bytesSent:0};this.files.push(e);e.status=i.ADDED;this.emit("addedfile",e);if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this.createThumbnail(e)}return this.accept(e,function(i){if(i){e.accepted=false;return t._errorProcessing([e],i)}else{return t.enqueueFile(e)}})};i.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];this.enqueueFile(t)}return null};i.prototype.enqueueFile=function(e){var t=this;e.accepted=true;if(e.status===i.ADDED){e.status=i.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return t.processQueue()},1)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};i.prototype.addDirectory=function(e,t){var i,n,r=this;i=e.createReader();n=function(i){var n,s;for(n=0,s=i.length;n<s;n++){e=i[n];if(e.isFile){e.file(function(e){if(r.options.ignoreHiddenFiles&&e.name.substring(0,1)==="."){return}e.fullPath=""+t+"/"+e.name;return r.addFile(e)})}else if(e.isDirectory){r.addDirectory(e,""+t+"/"+e.name)}}};return i.readEntries(n,function(e){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(e):void 0:void 0})};i.prototype.removeFile=function(e){if(e.status===i.UPLOADING){this.cancelUpload(e)}this.files=l(this.files,e);this.emit("removedfile",e);if(this.files.length===0){return this.emit("reset")}};i.prototype.removeAllFiles=function(e){var t,n,r,s;if(e==null){e=false}s=this.files.slice();for(n=0,r=s.length;n<r;n++){t=s[n];if(t.status!==i.UPLOADING||e){this.removeFile(t)}}return null};i.prototype.createThumbnail=function(e){var t,i=this;t=new FileReader;t.onload=function(){var n;n=new Image;n.onload=function(){var t,r,s,o,l,a,u,p;e.width=n.width;e.height=n.height;s=i.options.resize.call(i,e);if(s.trgWidth==null){s.trgWidth=i.options.thumbnailWidth}if(s.trgHeight==null){s.trgHeight=i.options.thumbnailHeight}t=document.createElement("canvas");r=t.getContext("2d");t.width=s.trgWidth;t.height=s.trgHeight;r.drawImage(n,(l=s.srcX)!=null?l:0,(a=s.srcY)!=null?a:0,s.srcWidth,s.srcHeight,(u=s.trgX)!=null?u:0,(p=s.trgY)!=null?p:0,s.trgWidth,s.trgHeight);o=t.toDataURL("image/png");return i.emit("thumbnail",e,o)};return n.src=t.result};return t.readAsDataURL(e)};i.prototype.processQueue=function(){var e,t,i,n;t=this.options.parallelUploads;i=this.getUploadingFiles().length;e=i;if(i>=t){return}n=this.getQueuedFiles();if(!(n.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(n.slice(0,t-i))}else{while(e<t){if(!n.length){return}this.processFile(n.shift());e++}}};i.prototype.processFile=function(e){return this.processFiles([e])};i.prototype.processFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];t.processing=true;t.status=i.UPLOADING;this.emit("processing",t)}if(this.options.uploadMultiple){this.emit("processingmultiple",e)}return this.uploadFiles(e)};i.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,r,s;r=this.files;s=[];for(i=0,n=r.length;i<n;i++){t=r[i];if(t.xhr===e){s.push(t)}}return s}.call(this)};i.prototype.cancelUpload=function(e){var t,n,r,s,o,l,a;if(e.status===i.UPLOADING){n=this._getFilesWithXhr(e.xhr);for(r=0,o=n.length;r<o;r++){t=n[r];t.status=i.CANCELED}e.xhr.abort();for(s=0,l=n.length;s<l;s++){t=n[s];this.emit("canceled",t)}if(this.options.uploadMultiple){this.emit("canceledmultiple",n)}}else if((a=e.status)===i.ADDED||a===i.QUEUED){e.status=i.CANCELED;this.emit("canceled",e);if(this.options.uploadMultiple){this.emit("canceledmultiple",[e])}}if(this.options.autoProcessQueue){return this.processQueue()}};i.prototype.uploadFile=function(e){return this.uploadFiles([e])};i.prototype.uploadFiles=function(e){var n,r,s,o,l,a,u,p,d,c,h,f,m,v,g,y,F,E,w,b,z,x,L,k,C,A,D,T=this;g=new XMLHttpRequest;for(y=0,b=e.length;y<b;y++){n=e[y];n.xhr=g}g.open(this.options.method,this.options.url,true);g.withCredentials=!!this.options.withCredentials;f=null;s=function(){var t,i,r;r=[];for(t=0,i=e.length;t<i;t++){n=e[t];r.push(T._errorProcessing(e,f||T.options.dictResponseError.replace("{{statusCode}}",g.status),g))}return r};m=function(t){var i,r,s,o,l,a,u,p,d;if(t!=null){r=100*t.loaded/t.total;for(s=0,a=e.length;s<a;s++){n=e[s];n.upload={progress:r,total:t.total,bytesSent:t.loaded}}}else{i=true;r=100;for(o=0,u=e.length;o<u;o++){n=e[o];if(!(n.upload.progress===100&&n.upload.bytesSent===n.upload.total)){i=false}n.upload.progress=r;n.upload.bytesSent=n.upload.total}if(i){return}}d=[];for(l=0,p=e.length;l<p;l++){n=e[l];d.push(T.emit("uploadprogress",n,r,n.upload.bytesSent))}return d};g.onload=function(t){var n;if(e[0].status===i.CANCELED){return}if(g.readyState!==4){return}f=g.responseText;if(g.getResponseHeader("content-type")&&~g.getResponseHeader("content-type").indexOf("application/json")){try{f=JSON.parse(f)}catch(r){t=r;f="Invalid JSON response from server."}}m();if(!(200<=(n=g.status)&&n<300)){return s()}else{return T._finished(e,f,t)}};g.onerror=function(){if(e[0].status===i.CANCELED){return}return s()};h=(k=g.upload)!=null?k:g;h.onprogress=m;a={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){t(a,this.options.headers)}for(o in a){l=a[o];g.setRequestHeader(o,l)}r=new FormData;if(this.options.params){C=this.options.params;for(c in C){v=C[c];r.append(c,v)}}for(F=0,z=e.length;F<z;F++){n=e[F];this.emit("sending",n,g,r)}if(this.options.uploadMultiple){this.emit("sendingmultiple",e,g,r)}if(this.element.tagName==="FORM"){A=this.element.querySelectorAll("input, textarea, select, button");for(E=0,x=A.length;E<x;E++){u=A[E];p=u.getAttribute("name");d=u.getAttribute("type");if(!d||(D=d.toLowerCase())!=="checkbox"&&D!=="radio"||u.checked){r.append(p,u.value)}}}for(w=0,L=e.length;w<L;w++){n=e[w];r.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),n,n.name)}return g.send(r)};i.prototype._finished=function(e,t,n){var r,s,o;for(s=0,o=e.length;s<o;s++){r=e[s];r.status=i.SUCCESS;this.emit("success",r,t,n);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("successmultiple",e,t,n);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};i.prototype._errorProcessing=function(e,t,n){var r,s,o;for(s=0,o=e.length;s<o;s++){r=e[s];r.status=i.ERROR;this.emit("error",r,t,n);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("errormultiple",e,t,n);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};return i}(n);e.version="3.7.4-dev";e.options={};e.optionsForElement=function(t){if(t.id){return e.options[r(t.id)]}else{return void 0}};e.instances=[];e.forElement=function(e){if(typeof e==="string"){e=document.querySelector(e)}if((e!=null?e.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return e.dropzone};e.autoDiscover=true;e.discover=function(){var t,i,n,r,s,o;if(document.querySelectorAll){n=document.querySelectorAll(".dropzone")}else{n=[];t=function(e){var t,i,r,s;s=[];for(i=0,r=e.length;i<r;i++){t=e[i];if(/(^| )dropzone($| )/.test(t.className)){s.push(n.push(t))}else{s.push(void 0)}}return s};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}o=[];for(r=0,s=n.length;r<s;r++){i=n[r];if(e.optionsForElement(i)!==false){o.push(new e(i))}else{o.push(void 0)}}return o};e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];e.isBrowserSupported=function(){var t,i,n,r,s;t=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){t=false}else{s=e.blacklistedBrowsers;for(n=0,r=s.length;n<r;n++){i=s[n];if(i.test(navigator.userAgent)){t=false;continue}}}}else{t=false}return t};l=function(e,t){var i,n,r,s;s=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(i!==t){s.push(i)}}return s};r=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})};e.createElement=function(e){var t;t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};e.elementInside=function(e,t){if(e===t){return true}while(e=e.parentNode){if(e===t){return true}}return false};e.getElement=function(e,t){var i;if(typeof e==="string"){i=document.querySelector(e)}else if(e.nodeType!=null){i=e}if(i==null){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i};e.getElements=function(e,t){var i,n,r,s,o,l,a,u;if(e instanceof Array){r=[];try{for(s=0,l=e.length;s<l;s++){n=e[s];r.push(this.getElement(n,t))}}catch(p){i=p;r=null}}else if(typeof e==="string"){r=[];u=document.querySelectorAll(e);for(o=0,a=u.length;o<a;o++){n=u[o];r.push(n)}}else if(e.nodeType!=null){r=[e]}if(!(r!=null&&r.length)){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return r};e.confirm=function(e,t,i){if(window.confirm(e)){return t()}else if(i!=null){return i()}};e.isValidFile=function(e,t){var i,n,r,s,o;if(!t){return true}t=t.split(",");n=e.type;i=n.replace(/\/.*$/,"");for(s=0,o=t.length;s<o;s++){r=t[s];r=r.trim();if(r.charAt(0)==="."){if(e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length)!==-1){return true}}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,"")){return true}}else{if(n===r){return true}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}}if(typeof i!=="undefined"&&i!==null){i.exports=e}else{window.Dropzone=e}e.ADDED="added";e.QUEUED="queued";e.ACCEPTED=e.QUEUED;e.UPLOADING="uploading";e.PROCESSING=e.UPLOADING;e.CANCELED="canceled";e.ERROR="error";e.SUCCESS="success";s=function(e,t){var i,n,r,s,o,l,a,u,p;r=false;p=true;n=e.document;u=n.documentElement;i=n.addEventListener?"addEventListener":"attachEvent";a=n.addEventListener?"removeEventListener":"detachEvent";l=n.addEventListener?"":"on";s=function(i){if(i.type==="readystatechange"&&n.readyState!=="complete"){return}(i.type==="load"?e:n)[a](l+i.type,s,false);if(!r&&(r=true)){return t.call(e,i.type||i)}};o=function(){var e;try{u.doScroll("left")}catch(t){e=t;setTimeout(o,50);return}return s("poll")};if(n.readyState!=="complete"){if(n.createEventObject&&u.doScroll){try{p=!e.frameElement}catch(d){}if(p){o()}}n[i](l+"DOMContentLoaded",s,false);n[i](l+"readystatechange",s,false);return e[i](l+"load",s,false)}};e._autoDiscoverFunction=function(){if(e.autoDiscover){return e.discover()}};s(window,e._autoDiscoverFunction)}).call(this)});e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");e.alias("component-emitter/index.js","emitter/index.js");if(typeof exports=="object"){module.exports=e("dropzone")}else if(typeof define=="function"&&define.amd){define(function(){return e("dropzone")})}else{this["Dropzone"]=e("dropzone")}})();